<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 10: Web Development with Flask | Python Course</title>
    <meta name="description" content="Interactive lesson on building Web Applications and APIs with Flask: Routes, Templates, and Best Practices.">
    <link rel="icon" type="image/png" href="../assets/brands/favicon-straydog.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;800&family=Orbitron:wght@700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CSS CUSTOM PROPERTIES (Variables) - CONSISTENT THEME
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        :root {
            --bg-dark: #0a0e27;
            --bg-medium: #1a1f3a;
            --bg-light: #2a2f4a;
            --accent-cyan: #00f0ff;
            --accent-magenta: #ff00ff;
            --accent-yellow: #ffff00;
            --accent-green: #00ff41;
            --accent-orange: #ff6b35;
            --accent-red: #ff3366;
            --accent-blue: #4da6ff;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --level-bad: #ff3366;
            --level-novice: #ff9f43;
            --level-intermediate: #4da6ff;
            --level-best: #00ff41;
            --shadow-glow: 0 0 20px rgba(0, 240, 255, 0.3);
            --shadow-glow-green: 0 0 20px rgba(0, 255, 65, 0.3);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Space Mono', monospace;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 240, 255, 0.03) 2px, rgba(0, 240, 255, 0.03) 4px);
            pointer-events: none;
            z-index: 1;
            animation: scanlines 8s linear infinite;
        }

        @keyframes scanlines {
            0% { transform: translateY(0); }
            100% { transform: translateY(4px); }
        }

        header {
            position: relative;
            z-index: 10;
            padding: 2rem;
            text-align: center;
            background: linear-gradient(135deg, var(--bg-medium) 0%, var(--bg-dark) 100%);
            border-bottom: 3px solid var(--accent-cyan);
            box-shadow: 0 4px 20px rgba(0, 240, 255, 0.2);
        }

        h1 {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--accent-cyan), var(--accent-magenta));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 5px var(--accent-cyan)); }
            to { filter: drop-shadow(0 0 20px var(--accent-magenta)); }
        }

        .subtitle { font-size: 1.1rem; color: var(--accent-green); font-weight: 600; }
        
        .week-badge {
            display: inline-block;
            background: var(--accent-magenta);
            color: var(--bg-dark);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            margin-top: 0.5rem;
        }

        .progress-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 4px; background: var(--bg-medium); z-index: 1000;
        }
        .progress-bar {
            height: 100%; background: linear-gradient(90deg, var(--accent-cyan), var(--accent-magenta)); width: 0%; transition: width 0.3s ease; box-shadow: var(--shadow-glow);
        }
        .xp-bar {
            position: fixed; top: 20px; right: 20px; background: var(--bg-medium); padding: 1rem; border-radius: 8px; border: 2px solid var(--accent-cyan); z-index: 100; min-width: 220px; box-shadow: var(--shadow-glow);
        }
        .xp-label { font-size: 0.85rem; color: var(--accent-yellow); margin-bottom: 0.5rem; font-weight: 700; }
        .xp-progress { width: 100%; height: 20px; background: var(--bg-dark); border-radius: 10px; overflow: hidden; position: relative; }
        .xp-fill { height: 100%; background: linear-gradient(90deg, var(--accent-green), var(--accent-cyan)); width: 0%; transition: width 0.5s ease; }
        .xp-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 0.75rem; font-weight: 700; color: var(--text-primary); text-shadow: 1px 1px 2px rgba(0,0,0,0.8); }

        .container { display: flex; max-width: 1400px; margin: 0 auto; position: relative; z-index: 2; }
        .sidebar { width: 300px; position: sticky; top: 20px; height: calc(100vh - 40px); padding: 2rem 1rem; background: var(--bg-medium); border-right: 2px solid var(--accent-cyan); overflow-y: auto; }
        .nav-title { font-size: 0.9rem; color: var(--accent-yellow); margin-bottom: 1rem; font-weight: 700; text-transform: uppercase; }
        .nav-item { padding: 0.75rem 1rem; margin-bottom: 0.5rem; cursor: pointer; border-left: 3px solid transparent; transition: all 0.3s ease; font-size: 0.95rem; background: var(--bg-dark); border-radius: 4px; }
        .nav-item:hover { border-left-color: var(--accent-cyan); background: var(--bg-light); transform: translateX(5px); }
        .nav-item.active { border-left-color: var(--accent-magenta); background: var(--bg-light); color: var(--accent-cyan); box-shadow: var(--shadow-glow); }
        .nav-item.completed::after { content: ' âœ“'; color: var(--accent-green); float: right; }
        
        .main-content { flex: 1; padding: 2rem; min-height: 100vh; }
        .section { display: none; animation: fadeIn 0.5s ease; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        h2 { font-family: 'Orbitron', monospace; font-size: 2rem; color: var(--accent-cyan); margin-bottom: 1rem; text-transform: uppercase; letter-spacing: 1px; }
        h3 { font-family: 'Orbitron', monospace; font-size: 1.5rem; color: var(--accent-magenta); margin: 2rem 0 1rem 0; }
        p { margin-bottom: 1rem; color: var(--text-secondary); line-height: 1.8; }

        .skill-progression { margin: 2rem 0; background: var(--bg-medium); border-radius: 12px; overflow: hidden; border: 2px solid var(--bg-light); }
        .skill-tabs { display: flex; background: var(--bg-dark); border-bottom: 2px solid var(--bg-light); flex-wrap: wrap; }
        .skill-tab { flex: 1; min-width: 120px; padding: 1rem; cursor: pointer; text-align: center; font-weight: 700; font-size: 0.85rem; transition: all 0.3s ease; border: none; background: transparent; color: var(--text-secondary); font-family: 'Space Mono', monospace; position: relative; }
        .skill-tab::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 3px; background: transparent; transition: background 0.3s ease; }
        .skill-tab:hover { background: var(--bg-light); }
        .skill-tab.active { color: var(--text-primary); }
        .skill-tab[data-level="bad"] { border-top: 3px solid var(--level-bad); }
        .skill-tab[data-level="novice"] { border-top: 3px solid var(--level-novice); }
        .skill-tab[data-level="intermediate"] { border-top: 3px solid var(--level-intermediate); }
        .skill-tab[data-level="best"] { border-top: 3px solid var(--level-best); }
        .skill-tab[data-level="bad"].active::after { background: var(--level-bad); }
        .skill-tab[data-level="novice"].active::after { background: var(--level-novice); }
        .skill-tab[data-level="intermediate"].active::after { background: var(--level-intermediate); }
        .skill-tab[data-level="best"].active::after { background: var(--level-best); }
        .skill-tab-icon { display: block; font-size: 1.2rem; margin-bottom: 0.25rem; }
        .skill-content { display: none; padding: 0; animation: fadeIn 0.3s ease; }
        .skill-content.active { display: block; }

        .code-container { background: var(--bg-dark); border: 2px solid var(--accent-cyan); border-radius: 8px; margin: 1.5rem 0; overflow: hidden; box-shadow: var(--shadow-glow); }
        .code-container.level-bad { border-color: var(--level-bad); box-shadow: 0 0 15px rgba(255, 51, 102, 0.2); }
        .code-container.level-novice { border-color: var(--level-novice); box-shadow: 0 0 15px rgba(255, 159, 67, 0.2); }
        .code-container.level-intermediate { border-color: var(--level-intermediate); box-shadow: 0 0 15px rgba(77, 166, 255, 0.2); }
        .code-container.level-best { border-color: var(--level-best); box-shadow: var(--shadow-glow-green); }

        .code-header { background: var(--bg-medium); padding: 0.75rem 1rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--accent-cyan); flex-wrap: wrap; gap: 0.5rem; }
        .code-header-left { display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap; }
        .code-label { color: var(--accent-yellow); font-weight: 700; font-size: 0.9rem; }
        .level-badge { padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
        .level-badge.bad { background: var(--level-bad); color: white; }
        .level-badge.novice { background: var(--level-novice); color: var(--bg-dark); }
        .level-badge.intermediate { background: var(--level-intermediate); color: var(--bg-dark); }
        .level-badge.best { background: var(--level-best); color: var(--bg-dark); }
        .semantic-label { font-size: 0.8rem; color: var(--text-secondary); padding: 0.25rem 0.5rem; background: var(--bg-dark); border-radius: 4px; }

        pre { padding: 1.5rem; overflow-x: auto; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; line-height: 1.7; background: var(--bg-dark); color: var(--text-primary); margin: 0; }
        .keyword { color: var(--accent-magenta); font-weight: 600; }
        .string { color: var(--accent-green); }
        .function { color: var(--accent-cyan); }
        .comment { color: #6a9955; font-style: italic; }
        .number { color: var(--accent-yellow); }
        .class-name { color: var(--accent-orange); font-weight: bold; }
        .builtin { color: var(--accent-blue); }
        .decorator { color: var(--accent-yellow); }

        .output { background: #000; color: var(--text-primary); padding: 0; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; border-top: 1px solid var(--bg-light); max-height: 0; overflow: hidden; transition: all 0.3s ease; }
        .output.show { padding: 1rem; max-height: 300px; overflow-y: auto; }
        .output-label { color: var(--text-secondary); font-size: 0.75rem; text-transform: uppercase; margin-bottom: 0.5rem; display: block; }

        .run-button { background: var(--accent-green); color: var(--bg-dark); border: none; padding: 0.4rem 1rem; border-radius: 4px; font-family: 'Space Mono', monospace; font-weight: 700; cursor: pointer; transition: all 0.2s; font-size: 0.8rem; }
        .run-button:hover { transform: translateY(-2px); box-shadow: 0 0 10px var(--accent-green); }
        .run-button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

        .explanation-box { background: var(--bg-medium); border-radius: 8px; padding: 1.25rem; margin: 1rem 0; border-left: 4px solid var(--accent-blue); }
        .explanation-box.tip { border-left-color: var(--level-best); }
        .explanation-box.warning { border-left-color: var(--level-bad); }
        .explanation-box.info { border-left-color: var(--accent-cyan); }
        .explanation-title { font-weight: 700; margin-bottom: 0.5rem; color: var(--text-primary); display: flex; align-items: center; gap: 0.5rem; }

        .objectives-box { background: linear-gradient(135deg, rgba(0, 240, 255, 0.1), var(--bg-medium)); border: 2px solid var(--accent-cyan); border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; }
        .objectives-list li { padding: 0.5rem 0; padding-left: 1.5rem; position: relative; }
        .objectives-list li::before { content: 'â–¸'; position: absolute; left: 0; color: var(--accent-green); font-weight: bold; }

        .playground { background: var(--bg-medium); border: 2px solid var(--accent-yellow); border-radius: 8px; padding: 1.5rem; margin: 2rem 0; }
        .playground-header { display: flex; justify-content: space-between; margin-bottom: 1rem; }
        .playground-title { font-weight: 700; color: var(--accent-yellow); }
        textarea { width: 100%; height: 150px; background: var(--bg-dark); color: var(--text-primary); border: 1px solid var(--bg-light); padding: 1rem; font-family: 'JetBrains Mono', monospace; border-radius: 4px; resize: vertical; }

        .nav-buttons { display: flex; justify-content: space-between; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--bg-light); }
        .nav-btn { background: var(--bg-medium); color: var(--text-primary); border: 2px solid var(--accent-cyan); padding: 1rem 2rem; border-radius: 8px; cursor: pointer; font-family: 'Space Mono', monospace; font-weight: 700; transition: all 0.3s ease; }
        .nav-btn:hover { background: var(--accent-cyan); color: var(--bg-dark); }
        .nav-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .complete-btn { background: linear-gradient(135deg, var(--accent-green), var(--accent-cyan)); color: var(--bg-dark); border: none; width: 100%; margin-top: 2rem; }

        .achievement { position: fixed; bottom: 20px; right: 20px; background: linear-gradient(135deg, var(--bg-medium), #000); border: 2px solid var(--accent-yellow); border-radius: 12px; padding: 1.5rem; width: 300px; transform: translateY(150%); transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 2000; box-shadow: 0 0 30px rgba(255, 255, 0, 0.3); text-align: center; }
        .achievement.show { transform: translateY(0); }
        .achievement-icon { font-size: 3rem; margin-bottom: 0.5rem; animation: bounce 1s infinite alternate; }
        @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-10px); } }

        @media (max-width: 968px) {
            .container { flex-direction: column; }
            .sidebar { width: 100%; height: auto; position: relative; }
            .xp-bar { position: relative; top: 0; right: 0; margin: 1rem; }
        }
    </style>
</head>
<body class="sd-watermark">
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <div class="xp-bar">
        <div class="xp-label">ğŸ“Š Progress</div>
        <div class="xp-progress">
            <div class="xp-fill" id="xpFill"></div>
            <div class="xp-text" id="xpText">0 / 5 Topics</div>
        </div>
    </div>

    <header>
        <h1>ğŸŒ¶ï¸ Flask Web Development</h1>
        <p class="subtitle">Building Modern Web Apps with Python</p>
        <span class="week-badge">WEEK 10</span>
    </header>

    <div class="container">
        <aside class="sidebar">
            <nav class="nav-section">
                <div class="nav-title">ğŸ“– Topics</div>
                <div class="nav-item active" data-section="intro">Introduction</div>
                <div class="nav-item" data-section="routes">Routes & Views</div>
                <div class="nav-item" data-section="templates">HTML Templates</div>
                <div class="nav-item" data-section="api">JSON APIs</div>
                <div class="nav-item" data-section="structure">Project Structure</div>
                <div class="nav-item" data-section="cheatsheet">Cheat Sheet</div>
            </nav>
        </aside>

        <main class="main-content">
            <!-- INTRO -->
            <section id="intro" class="section active">
                <h2>ğŸŒ¶ï¸ Why Flask?</h2>
                
                <div class="objectives-box">
                    <div class="objectives-title">ğŸ¯ Learning Objectives</div>
                    <ul class="objectives-list">
                        <li>Understand the Request-Response cycle</li>
                        <li>Create routes with decorators (`@app.route`)</li>
                        <li>Render dynamic HTML using Jinja2 templates</li>
                        <li>Build RESTful APIs that return JSON</li>
                        <li>Organize larger applications with Blueprints</li>
                    </ul>
                </div>

                <div class="vocab-list">
                    <div class="vocab-title">ğŸ“š Key Vocabulary</div>
                    <div class="vocab-grid">
                        <div class="vocab-item">
                            <span class="vocab-term">Route</span>
                            <span class="vocab-definition">URL path mapped to a Python function. <code>@app.route('/home')</code> connects <code>/home</code> to a view function.</span>
                        </div>
                        <div class="vocab-item">
                            <span class="vocab-term">View Function</span>
                            <span class="vocab-definition">Python function that handles requests and returns responses (HTML, JSON, redirects).</span>
                        </div>
                        <div class="vocab-item">
                            <span class="vocab-term">Template</span>
                            <span class="vocab-definition">HTML file with Jinja2 placeholders (<code>{{ variable }}</code>) that Flask fills with dynamic data before sending to the browser.</span>
                        </div>
                        <div class="vocab-item">
                            <span class="vocab-term">JSON API</span>
                            <span class="vocab-definition">Route that returns structured data (JSON) instead of HTML. Use <code>jsonify()</code> to serialize Python dicts to JSON responses.</span>
                        </div>
                        <div class="vocab-item">
                            <span class="vocab-term">Blueprint</span>
                            <span class="vocab-definition">Modular component for organizing routes. Like mini-applications that can be plugged into the main Flask app.</span>
                        </div>
                        <div class="vocab-item">
                            <span class="vocab-term">Request-Response Cycle</span>
                            <span class="vocab-definition">Browser sends HTTP request â†’ Flask routes to view function â†’ function returns response (HTML/JSON) â†’ browser displays it.</span>
                        </div>
                    </div>
                </div>

                <div class="analogy-box">
                    <div class="analogy-title">ğŸ¯ Analogy: Flask as Restaurant Service</div>
                    <p><strong>Flask App:</strong> The restaurant itself.</p>
                    <p><strong>Routes:</strong> Menu items. Each URL path is like ordering a dish.</p>
                    <p><strong>View Functions:</strong> Chefs. They receive orders (requests), cook (process data), and serve (return responses).</p>
                    <p><strong>Templates:</strong> Plate presentations. The chef fills the plate with food (data) before serving.</p>
                    <p><strong>JSON API:</strong> Takeout orders. Instead of a plated meal (HTML page), you get raw ingredients in a box (JSON data) to use elsewhere.</p>
                    <p><strong>Blueprints:</strong> Separate kitchen stations (appetizers, entrees, desserts). Each station handles its own menu section independently.</p>
                </div>

                <div class="explanation-box info">
                    <div class="explanation-title">ğŸ’¡ Microframework</div>
                    <p>Flask is "micro" because it doesn't require particular tools or libraries. It has no database abstraction layer, form validation, or any other pre-existing third-party library common functions.</p>
                </div>

                <div class="explanation-box">
                    <div class="explanation-title">ğŸ’¡ Learning Strategy: Flask Web Development</div>
                    <p><strong>Start with Routes:</strong> Master <code>@app.route()</code> decorators first. Understand how URLs map to functions before adding complexity.</p>
                    <p><strong>Use Debug Mode:</strong> Always run with <code>debug=True</code> during development. Auto-reload saves time, and error pages show helpful tracebacks.</p>
                    <p><strong>Test Routes with curl/Postman:</strong> Don't rely only on browsers. Use <code>curl</code> or Postman to test API routes and inspect raw responses.</p>
                    <p><strong>Organize Early:</strong> Use Blueprints from the start for larger apps. Refactoring later is painful.</p>
                    <p><strong>Learn Jinja2 Syntax:</strong> Templates are powerful. Master <code>{{ }}, {% %}, {# #}</code> for variables, logic, and comments.</p>
                </div>

                <button class="nav-btn complete-btn" data-topic="intro">Mark Complete âœ“</button>
                <div class="nav-buttons">
                    <button class="nav-btn" disabled>â—€ Previous</button>
                    <button class="nav-btn next" onclick="navigateToSection('routes')">Next: Routes â–¶</button>
                </div>
            </section>

            <!-- ROUTES -->
            <section id="routes" class="section">
                <h2>ğŸ›¤ï¸ Routes & Views</h2>
                <p>Mapping URLs to Python functions.</p>

                <div class="skill-progression">
                    <div class="skill-tabs">
                        <button class="skill-tab active" data-level="bad" data-target="route-bad">
                            <span class="skill-tab-icon">ğŸ”´</span> Bad
                        </button>
                        <button class="skill-tab" data-level="novice" data-target="route-novice">
                            <span class="skill-tab-icon">ğŸŸ </span> Novice
                        </button>
                        <button class="skill-tab" data-level="best" data-target="route-best">
                            <span class="skill-tab-icon">ğŸŸ¢</span> Best Practice
                        </button>
                    </div>

                    <!-- BAD -->
                    <div class="skill-content active" id="route-bad">
                        <div class="code-container level-bad">
                            <div class="code-header">
                                <div class="code-header-left">
                                    <span class="code-label">Python</span>
                                    <span class="level-badge bad">âŒ Bad Practice</span>
                                    <span class="semantic-label">Hardcoded HTML</span>
                                </div>
                                <button class="run-button" data-output="<h1>Hello World</h1>">Run â–¶</button>
                            </div>
<pre><code><span class="comment"># âŒ BAD: Returning HTML strings directly</span>
<span class="keyword">from</span> flask <span class="keyword">import</span> Flask

app = Flask(__name__)

@app.route(<span class="string">'/'</span>)
<span class="keyword">def</span> <span class="function">home</span>():
    <span class="comment"># Nightmare to maintain!</span>
    <span class="keyword">return</span> <span class="string">"&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello World&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;"</span>
</code></pre>
                        </div>
                    </div>

                    <!-- NOVICE -->
                    <div class="skill-content" id="route-novice">
                        <div class="code-container level-novice">
                            <div class="code-header">
                                <div class="code-header-left">
                                    <span class="code-label">Python</span>
                                    <span class="level-badge novice">ğŸ”° Novice</span>
                                    <span class="semantic-label">Dynamic Route</span>
                                </div>
                                <button class="run-button" data-output="Hello, Alice!">Run â–¶</button>
                            </div>
<pre><code><span class="comment"># ğŸ”° NOVICE: Variable Rules</span>
<span class="keyword">from</span> flask <span class="keyword">import</span> Flask

app = Flask(__name__)

<span class="comment"># &lt;name&gt; captures the URL part</span>
@app.route(<span class="string">'/user/&lt;name&gt;'</span>)
<span class="keyword">def</span> <span class="function">user_profile</span>(name):
    <span class="keyword">return</span> f<span class="string">"Hello, {name}!"</span>
</code></pre>
                        </div>
                    </div>

                    <!-- BEST -->
                    <div class="skill-content" id="route-best">
                        <div class="code-container level-best">
                            <div class="code-header">
                                <div class="code-header-left">
                                    <span class="code-label">Python</span>
                                    <span class="level-badge best">â­ Best Practice</span>
                                    <span class="semantic-label">Type Converters</span>
                                </div>
                                <button class="run-button" data-output="Post ID: 42 (Type: int)">Run â–¶</button>
                            </div>
<pre><code><span class="comment"># â­ BEST PRACTICE: Explicit Types</span>
<span class="keyword">from</span> flask <span class="keyword">import</span> Flask

app = Flask(__name__)

<span class="comment"># Ensures 'post_id' is an integer. 404s if string provided.</span>
@app.route(<span class="string">'/post/&lt;int:post_id&gt;'</span>)
<span class="keyword">def</span> <span class="function">show_post</span>(post_id):
    <span class="keyword">return</span> f<span class="string">"Post ID: {post_id} (Type: {type(post_id).__name__})"</span>
</code></pre>
                        </div>
                    </div>
                </div>

                <button class="nav-btn complete-btn" data-topic="routes">Mark Topic Complete âœ“</button>
                <div class="nav-buttons">
                    <button class="nav-btn prev" onclick="navigateToSection('intro')">â—€ Prev: Intro</button>
                    <button class="nav-btn next" onclick="navigateToSection('templates')">Next: Templates â–¶</button>
                </div>
            </section>

            <!-- TEMPLATES -->
            <section id="templates" class="section">
                <h2>ğŸ¨ Jinja2 Templates</h2>
                <p>Separate your logic (Python) from your presentation (HTML).</p>

                <div class="code-container level-best">
                    <div class="code-header">
                        <span class="code-label">HTML + Jinja</span>
                        <span class="level-badge best">â­ Logic in HTML</span>
                    </div>
                    <button class="run-button" data-output="<ul><li>Apple</li><li>Banana</li></ul>">Run â–¶</button>
<pre><code><span class="comment">&lt;!-- templates/index.html --&gt;</span>
&lt;h1&gt;Welcome, {{ user.name }}!&lt;/h1&gt;

&lt;ul&gt;
    <span class="comment">{% for item in items %}</span>
        &lt;li&gt;{{ item }}&lt;/li&gt;
    <span class="comment">{% endfor %}</span>
&lt;/ul&gt;

<span class="comment">{% if user.is_admin %}</span>
    &lt;button&gt;Delete Everything&lt;/button&gt;
<span class="comment">{% endif %}</span>
</code></pre>
                </div>

                <div class="code-container level-best">
                    <div class="code-header">
                        <span class="code-label">Python</span>
                        <span class="level-badge best">â­ Rendering</span>
                    </div>
<pre><code><span class="keyword">from</span> flask <span class="keyword">import</span> render_template

@app.route(<span class="string">'/'</span>)
<span class="keyword">def</span> <span class="function">index</span>():
    user = {<span class="string">'name'</span>: <span class="string">'Alice'</span>, <span class="string">'is_admin'</span>: <span class="keyword">True</span>}
    items = [<span class="string">'Apple'</span>, <span class="string">'Banana'</span>]
    
    <span class="comment"># Pass variables to the template</span>
    <span class="keyword">return</span> render_template(<span class="string">'index.html'</span>, user=user, items=items)
</code></pre>
                </div>

                <button class="nav-btn complete-btn" data-topic="templates">Mark Topic Complete âœ“</button>
                <div class="nav-buttons">
                    <button class="nav-btn prev" onclick="navigateToSection('routes')">â—€ Prev: Routes</button>
                    <button class="nav-btn next" onclick="navigateToSection('api')">Next: APIs â–¶</button>
                </div>
            </section>

            <!-- API -->
            <section id="api" class="section">
                <h2>ğŸ”Œ JSON APIs</h2>
                <p>Building backends for React, Vue, or Mobile Apps.</p>

                <div class="code-container level-best">
                    <div class="code-header">
                        <span class="code-label">Python</span>
                        <span class="level-badge best">â­ RESTful</span>
                    </div>
                    <button class="run-button" data-output="Content-Type: application/json\n{'status': 'ok', 'data': [1, 2, 3]}">Run â–¶</button>
<pre><code><span class="keyword">from</span> flask <span class="keyword">import</span> jsonify, request

@app.route(<span class="string">'/api/data'</span>, methods=[<span class="string">'GET'</span>, <span class="string">'POST'</span>])
<span class="keyword">def</span> <span class="function">api_handler</span>():
    <span class="keyword">if</span> request.method == <span class="string">'POST'</span>:
        <span class="comment"># Get JSON sent by client</span>
        payload = request.get_json()
        <span class="keyword">return</span> jsonify({<span class="string">'status'</span>: <span class="string">'received'</span>, <span class="string">'you_sent'</span>: payload}), <span class="number">201</span>
    
    <span class="comment"># Default to GET</span>
    data = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]
    <span class="keyword">return</span> jsonify({<span class="string">'status'</span>: <span class="string">'ok'</span>, <span class="string">'data'</span>: data})
</code></pre>
                </div>

                <button class="nav-btn complete-btn" data-topic="api">Mark Topic Complete âœ“</button>
                <div class="nav-buttons">
                    <button class="nav-btn prev" onclick="navigateToSection('templates')">â—€ Prev: Templates</button>
                    <button class="nav-btn next" onclick="navigateToSection('structure')">Next: Structure â–¶</button>
                </div>
            </section>

            <!-- STRUCTURE -->
            <section id="structure" class="section">
                <h2>ğŸ—ï¸ Project Structure</h2>
                <p>Don't put everything in <code>app.py</code>.</p>

                <div class="explanation-box info">
                    <div class="explanation-title">ğŸ“‚ Blueprint Pattern</div>
                    <pre>
my_app/
â”œâ”€â”€ app.py           # Entry point
â”œâ”€â”€ config.py        # Settings
â”œâ”€â”€ templates/       # HTML
â”œâ”€â”€ static/          # CSS/JS
â””â”€â”€ blueprints/      # Features
    â”œâ”€â”€ auth.py      # Login/Register routes
    â””â”€â”€ shop.py      # Shopping cart routes
                    </pre>
                </div>

                <div class="code-container level-best">
                    <div class="code-header">
                        <span class="code-label">Python (blueprints/auth.py)</span>
                        <span class="level-badge best">â­ Modular</span>
                    </div>
<pre><code><span class="keyword">from</span> flask <span class="keyword">import</span> Blueprint

<span class="comment"># Create a blueprint named 'auth'</span>
auth_bp = Blueprint(<span class="string">'auth'</span>, __name__)

@auth_bp.route(<span class="string">'/login'</span>)
<span class="keyword">def</span> <span class="function">login</span>():
    <span class="keyword">return</span> <span class="string">"Login Page"</span>
</code></pre>
                </div>

                <div class="code-container level-best">
                    <div class="code-header">
                        <span class="code-label">Python (app.py)</span>
                        <span class="level-badge best">â­ Registration</span>
                    </div>
<pre><code><span class="keyword">from</span> flask <span class="keyword">import</span> Flask
<span class="keyword">from</span> blueprints.auth <span class="keyword">import</span> auth_bp

app = Flask(__name__)

<span class="comment"># Register the blueprint</span>
<span class="comment"># All routes in auth_bp will be prefixed with /auth</span>
app.register_blueprint(auth_bp, url_prefix=<span class="string">'/auth'</span>)
</code></pre>
                </div>

                <button class="nav-btn complete-btn" data-topic="structure">Mark Topic Complete âœ“</button>
                <div class="nav-buttons">
                    <button class="nav-btn prev" onclick="navigateToSection('api')">â—€ Prev: API</button>
                    <button class="nav-btn next" onclick="navigateToSection('cheatsheet')">Next: Cheat Sheet â–¶</button>
                </div>
            </section>

            <!-- CHEAT SHEET -->
            <section id="cheatsheet" class="section">
                <h2>ğŸ“œ Flask Cheat Sheet</h2>
                
                <div class="code-container level-best">
                    <div class="code-header">
                        <span class="code-label">Patterns</span>
                        <span class="level-badge best">Reference</span>
                    </div>
<pre><code><span class="comment"># â•â•â• APP SETUP â•â•â•</span>
<span class="keyword">from</span> flask <span class="keyword">import</span> Flask
app = Flask(__name__)

<span class="comment"># â•â•â• ROUTES â•â•â•</span>
@app.route(<span class="string">'/'</span>)
@app.route(<span class="string">'/user/&lt;int:id&gt;'</span>)
@app.route(<span class="string">'/submit'</span>, methods=[<span class="string">'POST'</span>])

<span class="comment"># â•â•â• REQUEST / RESPONSE â•â•â•</span>
<span class="keyword">from</span> flask <span class="keyword">import</span> request, jsonify, render_template

val = request.args.get(<span class="string">'key'</span>)  <span class="comment"># URL query param</span>
val = request.form[<span class="string">'key'</span>]      <span class="comment"># Form data</span>
json = request.get_json()      <span class="comment"># JSON body</span>

<span class="keyword">return</span> render_template(<span class="string">'page.html'</span>, var=val)
<span class="keyword">return</span> jsonify({<span class="string">'status'</span>: <span class="string">'ok'</span>})

<span class="comment"># â•â•â• RUNNING â•â•â•</span>
<span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:
    app.run(debug=<span class="keyword">True</span>)
</code></pre>
                </div>

                <div class="objectives-box" style="margin-top: 2rem;">
                    <div class="objectives-title">ğŸ¯ Key Takeaways: Flask Web Development</div>
                    <ul>
                        <li><strong>Routes Map URLs to Functions:</strong> <code>@app.route('/path')</code> decorator connects URL paths to view functions. This is the heart of Flask.</li>
                        <li><strong>Templates Separate Logic from Presentation:</strong> Use Jinja2 templates to keep HTML separate from Python. <code>render_template()</code> fills placeholders with data.</li>
                        <li><strong>JSON APIs with jsonify():</strong> Return structured data with <code>jsonify(dict)</code>. Essential for building backends that serve mobile apps or SPAs.</li>
                        <li><strong>Use Blueprints for Organization:</strong> Large apps need modular structure. Blueprints group related routes like mini-applications.</li>
                        <li><strong>Debug Mode is Your Friend:</strong> <code>app.run(debug=True)</code> enables auto-reload and detailed error pages. Never use in production.</li>
                        <li><strong>HTTP Methods Matter:</strong> <code>@app.route('/path', methods=['GET', 'POST'])</code> controls what requests your route accepts. GET retrieves, POST submits data.</li>
                        <li><strong>Test with Tools:</strong> Use curl, Postman, or Python <code>requests</code> to test API endpoints. Don't rely solely on browser testing.</li>
                        <li><strong>Static Files in /static, Templates in /templates:</strong> Flask convention. CSS/JS go in <code>static/</code>, HTML templates in <code>templates/</code>.</li>
                    </ul>
                </div>

                <button class="nav-btn complete-btn" data-topic="cheatsheet">Mark Lesson Complete ğŸ‰</button>
                <div class="nav-buttons">
                    <button class="nav-btn prev" onclick="navigateToSection('structure')">â—€ Prev: Structure</button>
                    <button class="nav-btn next" disabled>ğŸ† Lesson Complete!</button>
                </div>
            </section>
        </main>
    </div>

    <div class="achievement" id="achievement">
        <div class="achievement-icon">ğŸŒ¶ï¸</div>
        <div class="achievement-title">Achievement Unlocked!</div>
        <p>You're a Web Developer! You've served your first app.</p>
    </div>

    <script>
        const sectionsOrder = ['intro', 'routes', 'templates', 'api', 'structure', 'cheatsheet'];
        const totalTopics = 5; 
        
        const progressBar = document.getElementById('progressBar');
        const xpFill = document.getElementById('xpFill');
        const xpText = document.getElementById('xpText');
        const achievement = document.getElementById('achievement');
        const completed = new Set();

        function navigateToSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            const target = document.getElementById(id);
            if (target) target.classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            const nav = document.querySelector(`.nav-item[data-section="${id}"]`);
            if (nav) nav.classList.add('active');
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => navigateToSection(item.dataset.section));
        });

        function updateXP() {
            const percent = (completed.size / totalTopics) * 100;
            xpFill.style.width = percent + '%';
            xpText.textContent = `${completed.size} / ${totalTopics} Topics`;
            
            if (completed.size === totalTopics) {
                achievement.classList.add('show');
                setTimeout(() => achievement.classList.remove('show'), 6000);
            }
        }

        document.querySelectorAll('.complete-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const topic = btn.dataset.topic;
                if (!completed.has(topic)) {
                    completed.add(topic);
                    const item = document.querySelector(`.nav-item[data-section="${topic}"]`);
                    if (item) item.classList.add('completed');
                    btn.textContent = 'Completed âœ“';
                    btn.disabled = true;
                    updateXP();
                }
            });
        });

        document.querySelectorAll('.run-button').forEach(btn => {
            btn.addEventListener('click', () => {
                const container = btn.closest('.code-container');
                let out = container.querySelector('.output');
                if (!out) {
                    out = document.createElement('div');
                    out.className = 'output';
                    container.appendChild(out);
                }
                out.innerHTML = '<div class="output-label">Output:</div>' + 
                               (btn.dataset.output || 'No output').replace(/\n/g, '<br>');
                out.classList.add('show');
                btn.disabled = true;
                btn.innerHTML = 'âœ” Ran';
            });
        });

        document.querySelectorAll('.skill-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const progression = tab.closest('.skill-progression');
                const targetId = tab.dataset.target;
                progression.querySelectorAll('.skill-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                progression.querySelectorAll('.skill-content').forEach(content => {
                    content.classList.remove('active');
                });
                const targetContent = document.getElementById(targetId);
                if (targetContent) targetContent.classList.add('active');
            });
        });

        window.addEventListener('scroll', () => {
            const doc = document.documentElement;
            const scrolled = doc.scrollTop || document.body.scrollTop;
            const height = (doc.scrollHeight - doc.clientHeight) || 1;
            const percent = (scrolled / height) * 100;
            progressBar.style.width = percent + '%';
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
                const activeSection = document.querySelector('.section.active');
                if (!activeSection) return;
                const currentIndex = sectionsOrder.indexOf(activeSection.id);
                let newIndex;
                if (e.key === 'ArrowRight' && currentIndex < sectionsOrder.length - 1) newIndex = currentIndex + 1;
                else if (e.key === 'ArrowLeft' && currentIndex > 0) newIndex = currentIndex - 1;
                if (newIndex !== undefined) navigateToSection(sectionsOrder[newIndex]);
            }
        });

        console.log('ğŸŒ¶ï¸ Week 10: Flask Loaded!');
    </script>
</body>
</html>
